[gd_scene load_steps=34 format=2]

[ext_resource path="res://Player.gd" type="Script" id=1]
[ext_resource path="res://Art/Player.png" type="Texture" id=2]
[ext_resource path="res://Game.gd" type="Script" id=3]
[ext_resource path="res://TileMap.tscn" type="PackedScene" id=4]
[ext_resource path="res://EnemySpawnArea.gd" type="Script" id=5]
[ext_resource path="res://data-latin.ttf" type="DynamicFontData" id=6]
[ext_resource path="res://GameOver.tscn" type="PackedScene" id=7]
[ext_resource path="res://HospitalPurchasing.tscn" type="PackedScene" id=8]
[ext_resource path="res://Key.gd" type="Script" id=9]
[ext_resource path="res://Art/RedKey.png" type="Texture" id=10]
[ext_resource path="res://Art/BaseKey.png" type="Texture" id=11]
[ext_resource path="res://Art/BlueKey.png" type="Texture" id=12]
[ext_resource path="res://Art/GreenKey.png" type="Texture" id=13]
[ext_resource path="res://Hospital.tscn" type="PackedScene" id=14]
[ext_resource path="res://HospitalScene.tscn" type="PackedScene" id=15]
[ext_resource path="res://Godot Wild Jam Game OST .mp3" type="AudioStream" id=16]
[ext_resource path="res://KeyPickupSFX.wav" type="AudioStream" id=17]
[ext_resource path="res://Enemy.gd" type="Script" id=18]
[ext_resource path="res://GreenVirus.png" type="Texture" id=19]
[ext_resource path="res://Treatment.tscn" type="PackedScene" id=20]
[ext_resource path="res://EdgeOfTheGalaxyRegular-OVEa6.otf" type="DynamicFontData" id=21]

[sub_resource type="RectangleShape2D" id=1]
extents = Vector2( 107.763, 45.5746 )

[sub_resource type="StyleBoxEmpty" id=2]

[sub_resource type="DynamicFont" id=3]
size = 110
outline_size = 3
outline_color = Color( 0, 0, 0, 1 )
font_data = ExtResource( 6 )

[sub_resource type="DynamicFont" id=4]
size = 32
outline_size = 2
outline_color = Color( 0, 0, 0, 1 )
font_data = ExtResource( 6 )

[sub_resource type="CanvasItemMaterial" id=11]

[sub_resource type="DynamicFont" id=12]
size = 26
outline_size = 1
outline_color = Color( 0, 0, 0, 1 )
font_data = ExtResource( 21 )

[sub_resource type="RectangleShape2D" id=5]
extents = Vector2( 29.0167, 59.168 )

[sub_resource type="DynamicFont" id=10]
size = 15
outline_size = 1
outline_color = Color( 0, 0, 0, 1 )
font_data = ExtResource( 6 )

[sub_resource type="RectangleShape2D" id=6]
extents = Vector2( 6.722, 10 )

[sub_resource type="RectangleShape2D" id=7]
extents = Vector2( 46.748, 47.811 )

[sub_resource type="CircleShape2D" id=8]
radius = 65.0

[sub_resource type="CircleShape2D" id=9]
radius = 88.3826

[node name="world" type="Node2D"]
script = ExtResource( 3 )

[node name="TileMap" parent="." instance=ExtResource( 4 )]
position = Vector2( 835.766, 767.781 )

[node name="EnemySpawner" type="Area2D" parent="."]
position = Vector2( 1910.52, 1029.26 )
script = ExtResource( 5 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="EnemySpawner"]
position = Vector2( 4.71696, -21.6853 )
shape = SubResource( 1 )

[node name="Timer" type="Timer" parent="."]
wait_time = 15.0
autostart = true

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="GameOver" parent="CanvasLayer" instance=ExtResource( 7 )]
visible = false

[node name="MarginContainer" type="MarginContainer" parent="CanvasLayer"]
margin_right = 40.0
margin_bottom = 40.0
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Control" type="Control" parent="CanvasLayer/MarginContainer"]
margin_right = 40.0
margin_bottom = 40.0
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Label" type="Label" parent="CanvasLayer/MarginContainer/Control"]
margin_left = 43.4126
margin_top = 26.2831
margin_right = 531.413
margin_bottom = 151.283
rect_pivot_offset = Vector2( 54.1793, 22.2038 )
custom_styles/normal = SubResource( 2 )
custom_fonts/font = SubResource( 3 )
text = "0"
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Label2" type="Label" parent="CanvasLayer/MarginContainer/Control"]
self_modulate = Color( 0.972549, 0.972549, 0.972549, 1 )
margin_left = 503.693
margin_top = 28.9728
margin_right = 991.693
margin_bottom = 153.973
custom_styles/normal = SubResource( 2 )
custom_fonts/font = SubResource( 3 )
text = "0"
align = 2
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Sprite" type="Sprite" parent="CanvasLayer/MarginContainer/Control"]
position = Vector2( 898.251, 88.9 )
scale = Vector2( 0.162368, 0.143545 )
texture = ExtResource( 11 )

[node name="Label3" type="Label" parent="CanvasLayer/MarginContainer/Control"]
margin_left = 18.6908
margin_top = 7.0
margin_right = 288.691
margin_bottom = 47.0
rect_pivot_offset = Vector2( 54.1793, 22.2038 )
custom_styles/normal = SubResource( 2 )
custom_fonts/font = SubResource( 4 )
text = "Civilians killed:"
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Hospital Purchasing" parent="CanvasLayer/MarginContainer" instance=ExtResource( 8 )]
visible = false
anchor_right = 0.0
anchor_bottom = 0.0
margin_right = 40.0
margin_bottom = 40.0

[node name="Back2" type="Button" parent="CanvasLayer/MarginContainer/Hospital Purchasing"]
modulate = Color( 1, 0, 0, 1 )
material = SubResource( 11 )
margin_left = 153.878
margin_top = 84.6326
margin_right = 204.878
margin_bottom = 131.633
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Label" type="Label" parent="CanvasLayer/MarginContainer/Hospital Purchasing/Back2"]
margin_left = 2.12247
margin_top = 5.86739
margin_right = 51.1225
margin_bottom = 49.8674
rect_pivot_offset = Vector2( -1517.31, -146.948 )
custom_fonts/font = SubResource( 12 )
text = "X"
align = 1
valign = 1
uppercase = true
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Treatment" parent="CanvasLayer/MarginContainer" instance=ExtResource( 20 )]
visible = false
anchor_right = 0.0
anchor_bottom = 0.0
margin_left = 0.0
margin_right = 40.0
margin_bottom = 40.0

[node name="Button" type="Button" parent="CanvasLayer/MarginContainer/Treatment"]
modulate = Color( 1, 0, 0, 1 )
material = SubResource( 11 )
margin_left = 153.878
margin_top = 84.6326
margin_right = 204.878
margin_bottom = 131.633
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Label" type="Label" parent="CanvasLayer/MarginContainer/Treatment/Button"]
margin_left = 2.12247
margin_top = 5.86739
margin_right = 51.1225
margin_bottom = 49.8674
rect_pivot_offset = Vector2( -1517.31, -146.948 )
custom_fonts/font = SubResource( 12 )
text = "X"
align = 1
valign = 1
uppercase = true
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Key1" type="StaticBody2D" parent="."]
position = Vector2( 870.58, 1260.64 )
script = ExtResource( 9 )

[node name="Sprite" type="Sprite" parent="Key1"]
position = Vector2( 296.849, 147.795 )
scale = Vector2( 0.17558, 0.149206 )
texture = ExtResource( 10 )

[node name="Area2D" type="Area2D" parent="Key1"]
position = Vector2( -54.1316, 1.97473 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="Key1/Area2D"]
position = Vector2( 351.407, 145.441 )
shape = SubResource( 5 )

[node name="Key2" type="StaticBody2D" parent="."]
position = Vector2( 1700.18, 30.5286 )
script = ExtResource( 9 )

[node name="Sprite" type="Sprite" parent="Key2"]
position = Vector2( 296.849, 147.795 )
scale = Vector2( 0.17558, 0.149206 )
texture = ExtResource( 12 )

[node name="Area2D" type="Area2D" parent="Key2"]
position = Vector2( -54.1316, 1.97473 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="Key2/Area2D"]
position = Vector2( 351.407, 145.441 )
shape = SubResource( 5 )

[node name="Key3" type="StaticBody2D" parent="."]
position = Vector2( 2569.89, 568.864 )
script = ExtResource( 9 )

[node name="Sprite" type="Sprite" parent="Key3"]
position = Vector2( 296.849, 147.795 )
scale = Vector2( 0.17558, 0.149206 )
texture = ExtResource( 13 )

[node name="Area2D" type="Area2D" parent="Key3"]
position = Vector2( -54.1316, 1.97473 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="Key3/Area2D"]
position = Vector2( 351.407, 145.441 )
shape = SubResource( 5 )

[node name="Hospital" parent="." instance=ExtResource( 14 )]
position = Vector2( 2152.57, -126.207 )

[node name="CollisionPolygon2D" parent="Hospital" index="1"]
position = Vector2( 20.2854, 13.9325 )
polygon = PoolVector2Array( 37.1077, -48.8838, 62.7767, -49.8292, 64.6781, 33.3659, 134.08, 33.8386, 134.449, 142.371, 134.449, 149.667, 245.573, 150.79, 246.134, 142.932, 248.379, 138.443, 249.177, 1.60315, 249.887, -119.942, 162.035, -121.073, 57.3826, -122.42, -11.969, -121.685, -90.1104, -122.768, -226.984, -123.091, -226.984, 13.2997, -226.984, 146.3, -226.423, 149.106, -114.738, 149.667, -113.615, 33.4923, -52.7344, 31.9478, -34.5586, -50.6079 )

[node name="Timer" parent="Hospital" index="3"]
wait_time = 30.0
autostart = true

[node name="Hospital World" parent="." instance=ExtResource( 15 )]
position = Vector2( -5357.24, -2413.03 )

[node name="Button" type="Button" parent="Hospital World"]
modulate = Color( 0.898039, 0.980392, 1, 1 )
margin_left = 525.0
margin_top = 91.0
margin_right = 590.0
margin_bottom = 128.0
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Label" type="Label" parent="Hospital World/Button"]
margin_right = 50.0
margin_bottom = 24.0
custom_fonts/font = SubResource( 10 )
text = "Access 
Hospital"

[node name="Player" type="KinematicBody2D" parent="."]
position = Vector2( 1531.53, 1144.3 )
script = ExtResource( 1 )

[node name="PlayerCollider" type="CollisionShape2D" parent="Player"]
shape = SubResource( 6 )

[node name="Sprite" type="Sprite" parent="Player"]
position = Vector2( 25.3076, -0.406738 )
scale = Vector2( 0.0875801, 0.0875801 )
texture = ExtResource( 2 )

[node name="PlayerArena" type="Area2D" parent="Player"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Player/PlayerArena"]
position = Vector2( 0.749207, 0 )
shape = SubResource( 7 )

[node name="Camera2D" type="Camera2D" parent="Player"]
current = true

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="."]
stream = ExtResource( 16 )
volume_db = -10.0
autoplay = true

[node name="KeyPickupSFX" type="AudioStreamPlayer" parent="."]
stream = ExtResource( 17 )
volume_db = -10.097

[node name="Enemy2" type="KinematicBody2D" parent="."]
position = Vector2( 1895.1, 1157.04 )
scale = Vector2( 0.689586, -0.518421 )
collision_layer = 5
script = ExtResource( 18 )

[node name="Sprite" type="Sprite" parent="Enemy2"]
position = Vector2( 74.3691, -40.5113 )
scale = Vector2( 0.104013, 0.102439 )
texture = ExtResource( 19 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="Enemy2"]
position = Vector2( 72.318, -41.3283 )
shape = SubResource( 8 )

[node name="Area2D" type="Area2D" parent="Enemy2"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Enemy2/Area2D"]
position = Vector2( 76.6024, -32.973 )
shape = SubResource( 9 )

[node name="Timer" type="Timer" parent="Enemy2"]

[connection signal="timeout" from="Timer" to="." method="_on_Timer_timeout"]
[connection signal="body_entered" from="Key1/Area2D" to="Key1" method="_on_Area2D_body_entered"]
[connection signal="body_entered" from="Key2/Area2D" to="Key2" method="_on_Area2D_body_entered"]
[connection signal="body_entered" from="Key3/Area2D" to="Key3" method="_on_Area2D_body_entered"]
[connection signal="body_entered" from="Player/PlayerArena" to="Player" method="_on_Area2D_body_entered"]
[connection signal="body_entered" from="Enemy2/Area2D" to="Enemy2" method="_on_Area2D_body_entered"]
[connection signal="timeout" from="Enemy2/Timer" to="Enemy2" method="_on_Timer_timeout"]

[editable path="Hospital"]
[editable path="Hospital World"]
